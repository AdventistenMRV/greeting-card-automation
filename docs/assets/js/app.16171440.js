(function(e){function t(t){for(var r,c,u=t[0],s=t[1],l=t[2],d=0,b=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);o&&o(t);while(b.length)b.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var o=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"518f":function(e,t,n){"use strict";n("9d23")},"9d23":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"p-grid"},i=Object(r["i"])("div",{class:"p-col-0 p-md-1 p-lg-2"},null,-1),c={class:"p-col-0 p-md-10 p-lg-8"},u=Object(r["i"])("div",{class:"p-col-0 p-md-1 p-lg-2"},null,-1);function s(e,t){var n=Object(r["D"])("Navigation"),s=Object(r["D"])("router-view");return Object(r["x"])(),Object(r["h"])("div",a,[i,Object(r["i"])("div",c,[Object(r["m"])(n),Object(r["m"])(s)]),u])}n("518f");var l=n("6b0d"),o=n.n(l);const d={},b=o()(d,[["render",s]]);var p=b,h=n("9319"),m=n("6c02"),g=Object(r["i"])("h2",null,"Grußkarten generieren",-1),j=Object(r["i"])("p",{class:"p-mb-4"}," Mithilfe des Grußkarten Generators können personalisierte PDFs für die Grußkarten erstellt werden. ",-1);function O(e,t,n,a,i,c){var u=Object(r["D"])("Steps"),s=Object(r["D"])("router-view");return Object(r["x"])(),Object(r["h"])(r["a"],null,[g,j,Object(r["m"])(u,{model:e.items,readonly:!0,class:"p-mb-4"},null,8,["model"]),Object(r["m"])(s)],64)}var f=n("1da1"),v=n("d4ec"),D=n("bee2"),k=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b0c0"),n("159b"),n("ac1f"),n("5319"),n("5b81"),n("e198")),y=function(){function e(){Object(v["a"])(this,e),this.cardType=void 0,this.addressData=[],this.exampleRawData="Mitglieds-ID\tName\tGeburtsdatum\tAnrede\tVorname\tGeschlecht\tAlter\tPLZ (Navi)\tOrt (Navi)\tLand (Navi)\tZusatz\tStraße\tGeburtsdatum (TAG)\tGeburtsdatum (MONAT)\tGeburtsdatum (JAHR)\tLand\tExakte Bezeichnung\tTitel\tJahre (Taufe)\n    MI-16-06-035598\tMustermann\t22.05.1992\tHerr\tMax\tmännlich\t29\t64297\tDarmstadt\tDeutschland\t\tCarl-Ulrich Str. 36\t22\tMai\t1992\tDE\tDeutschland\t\t81\n    MI-16-06-030726\tMusterfrau\t01.12.1943\tFrau\tMaximiliane\tweiblich\t78\t63073\tOffenbach\tDeutschland\t\tMusterstraße 33\t1\tDezember\t1943\tDE\tDeutschland\t\t82",this.cardTexts=new Map([["Geburtstagskarte","#Anrede# #Bruder-Schwester# #Nachname#,<br><br>zu Deinem Geburtstag wünschen wir Dir von Herzen alles Gute,<br>Gesundheit und Gottes reichen Segen.<br><br>Möge das neue Lebensjahr Dir viele schöne Erlebnisse<br>und Augenblicke bereithalten.<br><br>Herzliche Grüße<br><strong>Dein Büro der mittelrheinischen Vereinigung</strong>"],["Taufjubiläumskarte","#Anrede# #Bruder-Schwester# #Nachname#,<br><br>zu Deinem #Jahre#. Taufjubiläum wünschen wir Dir von Herzen alles Gute,<br>Gesundheit und Gottes reichen Segen.<br><br>Möge das neue Lebensjahr Dir viele schöne Erlebnisse<br>und Augenblicke bereithalten.<br><br>Herzliche Grüße<br><strong>Dein Büro der mittelrheinischen Vereinigung</strong>"]]),this.currentGreetingCardText=""}return Object(D["a"])(e,[{key:"setGreetingCardType",value:function(e){this.cardType=e,"Geburtstagskarte"===e?this.currentGreetingCardText=this.cardTexts.get("Geburtstagskarte"):"Taufjubiläumskarte"===e&&(this.currentGreetingCardText=this.cardTexts.get("Taufjubiläumskarte"))}},{key:"getAddressData",value:function(){return this.addressData}},{key:"downloadFile",value:function(e){var t=document.createElement("a");t.style.display="none",t.href=URL.createObjectURL(e),t.download=e.name,document.body.appendChild(t),t.click(),setTimeout((function(){URL.revokeObjectURL(t.href),t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}},{key:"createPdf",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["PDFDocument"].create();case 2:return n=e.sent,e.next=5,n.embedFont(k["StandardFonts"].Helvetica);case 5:return r=e.sent,a=2.83465,t.forEach((function(e){var t=n.addPage([210*a,200*a]),i=12;if(!u.cardType)return!1;var c=u.cardTexts.get(u.cardType);c=c.replaceAll("<br>"," \n"),c=c.replaceAll("<strong>",""),c=c.replaceAll("</strong>",""),c=c.replaceAll("#Nachname#",e.name),c=c.replaceAll("#Jahre#",e.jahreTaufe),c=c.replaceAll("#Bruder-Schwester#","männlich"==e.geschlecht?"Bruder":"Schwester"),c=c.replaceAll("#Anrede#","männlich"==e.geschlecht?"Lieber":"Liebe"),t.drawText(c,{x:9*a,y:89*a,size:i,maxWidth:160*a,font:r,lineHeight:16,color:Object(k["rgb"])(.29,.29,.28)})})),e.next=10,n.save();case 10:i=e.sent,c=new File([i],"grußkarte.pdf"),this.downloadFile(c);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),x=new y,S=Object(r["n"])({name:"Geburtstagskarten",data:function(){return{greetingCardService:x,addressDataValid:!1,greetingCardText:"Liebe Schwester Mustermann,<br><br>zu Deinem Geburtstag wünschen wir Dir von Herzen alles Gute,<br>Gesundheit und Gottes reichen Segen.<br><br>Möge das neue Lebensjahr Dir viele Schöne Erlebnisse<br>und Augenblicke bereithalten.<br><br><br>Herzliche Grüße<br><strong>Dein Büro der Mittelrheinische Vereinigung</strong>",card:x,showPDF:!1,base64PDF:"",items:[{label:"Kartenart wählen",to:"/grusskarten/1"},{label:"Importieren & Prüfen",to:"/grusskarten/2"},{label:"Texte anpassen",to:"/grusskarten/3"},{label:"Generieren",to:"/grusskarten/4"}]}},components:{}});const G=o()(S,[["render",O]]);var T=G,C={style:{"text-align":"center"}},w=Object(r["i"])("h2",null,"Wähle eine Kartenart",-1);function A(e,t,n,a,i,c){var u=this,s=Object(r["D"])("Button");return Object(r["x"])(),Object(r["h"])("div",C,[w,Object(r["m"])(s,{class:"p-mr-2",type:"submit",label:"Geburtstagskarten",onClick:t[0]||(t[0]=function(e){return u.nextStep("Geburtstagskarte")})}),Object(r["m"])(s,{class:"p-mr-2",type:"submit",label:"Taufjubiläumskarten",onClick:t[1]||(t[1]=function(e){return u.nextStep("Taufjubiläumskarte")})})])}var M=Object(r["n"])({name:"Step1",data:function(){return{greetingCardService:x}},methods:{nextStep:function(e){this.$toast.add({severity:"success",summary:"Success Message",detail:"Order submitted",life:3e3}),this.greetingCardService.setGreetingCardType(e),ke.push("2")}},components:{}});const N=o()(M,[["render",A]]);var P=N,z={style:{"text-align":"center"}},F=Object(r["i"])("br",null,null,-1),V=Object(r["l"])(" kopiere die Adressdaten aus WAVE in deine Zwischenablage (Copy & Paste) in dieses Feld: "),B=Object(r["i"])("p",null,null,-1),E=Object(r["l"])(" Öffne WAVE auf deinem Computer."),L=Object(r["l"])(" Klicke bei "),R=Object(r["i"])("i",null,"Mitgliederverwaltung > Mitglied",-1),H=Object(r["l"])(" auf das Auswahl Icon "),_=Object(r["i"])("p",null,null,-1),I=Object(r["l"])(" Wähle folgende Einstellung "),J={key:0},Z=Object(r["i"])("li",null,"Selektion: MRV-Geburtstagskartengenerator",-1),W=[Z],$={key:1},U=Object(r["i"])("li",null,"Selektion: MRV-Taufjubiläumskartengenerator",-1),K=[U],q=Object(r["l"])(" Markiere die ganze Ausgabe (Eine Zeile anklicken, dann Strg-A) "),Q=Object(r["l"])(" Kopiere die ganze Ausgabe (Rechtsklick > Markierte Datensätze kopieren) "),X={key:1},Y=Object(r["i"])("h2",null,"Datenvorschau",-1);function ee(e,t,n,a,i,c){var u=Object(r["D"])("GetClipboard"),s=Object(r["D"])("Button"),l=Object(r["D"])("Badge"),o=Object(r["D"])("AccordionTab"),d=Object(r["D"])("Accordion"),b=Object(r["D"])("Column"),p=Object(r["D"])("DataTable");return Object(r["x"])(),Object(r["h"])(r["a"],null,[Object(r["i"])("div",z,[Object(r["i"])("h2",null,"Importiere die Daten für die "+Object(r["H"])(e.greetingCardService.cardType),1),Object(r["i"])("p",null,[Object(r["l"])(" Um die Daten für die "+Object(r["H"])(e.greetingCardService.cardType)+" zu importieren,",1),F,V]),Object(r["i"])("p",null,[Object(r["m"])(u,{onDataValid:t[0]||(t[0]=function(t){return e.greetingCardService.addressData=t})})]),Object(r["m"])(s,{class:"p-mr-2 p-button-secondary",type:"submit",label:"Zurück",onClick:t[1]||(t[1]=function(t){return e.$router.push("1")})}),Object(r["m"])(s,{class:Object(r["t"])(["p-mr-2",{"p-button-secondary":!e.greetingCardService.addressData.length}]),disabled:!e.greetingCardService.addressData.length,type:"submit",label:"Weiter",onClick:t[2]||(t[2]=function(t){return e.$router.push("3")})},null,8,["class","disabled"]),B]),e.greetingCardService.addressData.length?Object(r["g"])("",!0):(Object(r["x"])(),Object(r["f"])(d,{key:0},{default:Object(r["N"])((function(){return[Object(r["m"])(o,{header:"Anleitung: So kommst du an die Adressdaten aus WAVE"},{default:Object(r["N"])((function(){return[Object(r["i"])("div",null,[Object(r["i"])("p",null,[Object(r["m"])(l,{value:"1"}),E]),Object(r["i"])("p",null,[Object(r["m"])(l,{value:"2"}),L,R,H]),_,Object(r["m"])(l,{value:"3"}),I,"Geburtstagskarte"==e.greetingCardService.cardType?(Object(r["x"])(),Object(r["h"])("ul",J,W)):Object(r["g"])("",!0),"Taufjubiläumskarte"==e.greetingCardService.cardType?(Object(r["x"])(),Object(r["h"])("ul",$,K)):Object(r["g"])("",!0),Object(r["i"])("p",null,[Object(r["m"])(l,{value:"4"}),q]),Object(r["i"])("p",null,[Object(r["m"])(l,{value:"4"}),Q])]),Object(r["m"])(s,{class:"p-mr-2 clipboard-btn",type:"submit","data-clipboard-text":e.greetingCardService.exampleRawData,icon:"pi pi-copy",label:"Kopiere Beispieldaten in die Zwischenablage"},null,8,["data-clipboard-text"])]})),_:1})]})),_:1})),e.greetingCardService.addressData.length?(Object(r["x"])(),Object(r["h"])("div",X,[Y,Object(r["m"])(p,{value:e.greetingCardService.addressData,responsiveLayout:"scroll"},{default:Object(r["N"])((function(){return[Object(r["m"])(b,{field:"vorname",header:"Vorname"}),Object(r["m"])(b,{field:"name",header:"Nachname"}),Object(r["m"])(b,{field:"geburtsdatum",header:"Geburtstag"}),Object(r["m"])(b,{field:"plzNavi",header:"Postleitzahl"})]})),_:1},8,["value"])])):Object(r["g"])("",!0)],64)}var te=n("b311"),ne=n.n(te),re=Object(r["n"])({name:"Step2",data:function(){return{greetingCardService:x}},mounted:function(){x.cardType||ke.push("1"),new ne.a(".clipboard-btn")},components:{}});const ae=o()(re,[["render",ee]]);var ie=ae,ce=Object(r["i"])("h2",null,"Grußkartentext",-1),ue=Object(r["i"])("span",{class:"ql-formats"},[Object(r["i"])("button",{class:"ql-bold"})],-1);function se(e,t,n,a,i,c){var u=Object(r["D"])("Editor"),s=Object(r["D"])("Button");return Object(r["x"])(),Object(r["h"])(r["a"],null,[ce,Object(r["m"])(u,{modelValue:e.greetingCardService.currentGreetingCardText,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.greetingCardService.currentGreetingCardText=t}),editorStyle:"height: 320px",class:"p-mb-4"},{toolbar:Object(r["N"])((function(){return[ue]})),_:1},8,["modelValue"]),Object(r["m"])(s,{class:"p-mr-2 p-button-secondary",type:"submit",label:"Zurück",onClick:t[1]||(t[1]=function(t){return e.$router.push("2")})}),Object(r["m"])(s,{class:"p-mr-2",disabled:!e.greetingCardService.addressData,type:"submit",label:"Weiter",onClick:t[2]||(t[2]=function(t){return e.$router.push("4")})},null,8,["disabled"])],64)}var le=Object(r["n"])({name:"Step3",data:function(){return{greetingCardService:x,greetingCardText:"init"}},mounted:function(){x.cardType||ke.push("1")},components:{}});const oe=o()(le,[["render",se]]);var de=oe,be={style:{"text-align":"center"}},pe=Object(r["i"])("h2",null,"🎉 Fast geschafft!",-1),he=Object(r["i"])("p",null," Lade die PDF herunter und drucke Sie mit den entsprechend Einstellungen aus. ",-1),me=Object(r["i"])("div",null,[Object(r["i"])("p",null,[Object(r["i"])("strong",null,"MRV:"),Object(r["l"])(" Du findest eine Druck-Anleitung im "),Object(r["i"])("a",{href:"http://wiki.mrv-net.local/de/B%C3%BCro/Gru%C3%9Fkarten",target:"_blank"},"Wiki"),Object(r["l"])(". ")])],-1);function ge(e,t,n,a,i,c){var u=Object(r["D"])("Button"),s=Object(r["D"])("AccordionTab"),l=Object(r["D"])("Accordion");return Object(r["x"])(),Object(r["h"])(r["a"],null,[Object(r["i"])("div",be,[pe,he,Object(r["m"])(u,{class:"p-mr-2 p-button-secondary",type:"submit",label:"Zurück",onClick:t[0]||(t[0]=function(t){return e.$router.push("3")})}),Object(r["m"])(u,{class:"p-mt-4 p-button-success",type:"submit",label:"PDF herunterladen",onClick:t[1]||(t[1]=function(t){return e.generatePDF()})})]),Object(r["m"])(l,{class:"p-mt-4"},{default:Object(r["N"])((function(){return[Object(r["m"])(s,{header:"Anleitung: Druckereinstellungen damit die Karten gedruckt werden können"},{default:Object(r["N"])((function(){return[me]})),_:1})]})),_:1})],64)}var je=Object(r["n"])({name:"Step4",data:function(){return{greetingCardService:x}},mounted:function(){x.cardType||ke.push("1")},components:{},methods:{generatePDF:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.createPdf(this.greetingCardService.addressData).then((function(e){console.log(e),t.$toast.add({severity:"success",summary:"Success Message",detail:"Order submitted",life:3e3})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}});const Oe=o()(je,[["render",ge]]);var fe=Oe,ve=[{path:"/",name:"Home",redirect:"/grusskarten/1"},{path:"/grusskarten",name:"Grußkarten",component:T,children:[{name:"Grußkarten-Step-1",path:"1",component:P},{name:"Grußkarten-Step-2",path:"2",component:ie},{name:"Grußkarten-Step-3",path:"3",component:de},{name:"Grußkarten-Step-4",path:"4",component:fe}]}],De=Object(m["a"])({history:Object(m["b"])(),routes:ve}),ke=De,ye=n("5bd2"),xe=n("bb57"),Se=n("4c62"),Ge=n("80b9"),Te=n("485c"),Ce=n("5b2c"),we=n("6f85"),Ae=n("0afb"),Me=n("4b7b"),Ne=n("de53"),Pe=n("c8c8"),ze=n("8398"),Fe=(n("098b"),n("e1ae"),n("4121"),n("bddf"),n("6981"),n("c0c3")),Ve=Object(r["i"])("strong",null,"Kartengenerator",-1);function Be(e,t,n,a,i,c){var u=Object(r["D"])("Menubar");return Object(r["x"])(),Object(r["f"])(u,{model:e.items,class:"p-mt-4"},{start:Object(r["N"])((function(){return[Ve]})),_:1},8,["model"])}var Ee=Object(r["n"])({name:"Navigation",data:function(){return{items:[{label:"Grußkarten",icon:"pi pi-fw pi-file",to:"/grusskarten/1"}]}},components:{}});const Le=o()(Ee,[["render",Be]]);var Re=Le;function He(e,t,n,a,i,c){var u=this,s=Object(r["D"])("InputText"),l=Object(r["D"])("Button");return Object(r["x"])(),Object(r["h"])(r["a"],null,[e.hidePasteField?Object(r["g"])("",!0):(Object(r["x"])(),Object(r["f"])(s,{key:0,modelValue:e.inputData,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.inputData=t}),onInput:t[1]||(t[1]=function(t){return e.dataChanged(t.data)}),ref:"inputData"},null,8,["modelValue"])),e.hidePasteField?(Object(r["x"])(),Object(r["f"])(l,{key:1,label:"Adressdaten löschen und neu einfügen",class:"p-button-secondary",onClick:t[2]||(t[2]=function(e){return u.resetData()})})):Object(r["g"])("",!0)],64)}n("1276"),n("e9c4");var _e=function(){function e(){Object(v["a"])(this,e),this.inputData=null,this.parsedAddressData=[]}return Object(D["a"])(e,[{key:"parseData",value:function(e){if(e){var t=[];e.split("\n").forEach((function(e){t.push(e.split("\t"))}));var n=["Mitglieds-ID","Name","Geburtsdatum","Anrede","Vorname","Geschlecht","Alter","PLZ (Navi)","Ort (Navi)","Land (Navi)","Zusatz","Straße","Geburtsdatum (TAG)","Geburtsdatum (MONAT)","Geburtsdatum (JAHR)","Land","Exakte Bezeichnung","Titel","Jahre (Taufe)"];if(JSON.stringify(t[0])!=JSON.stringify(n))return console.log("Data invalid"),!1;for(var r=1;r<t.length;r++){var a={mitgliedsId:t[r][0],name:t[r][1],geburtsdatum:t[r][2],anrede:t[r][3],vorname:t[r][4],geschlecht:t[r][5],alter:t[r][6],plzNavi:t[r][7],ortNavi:t[r][8],landNavi:t[r][9],zusatz:t[r][10],"straße":t[r][11],geburtsdatumTag:t[r][12],geburtsdatumMonat:t[r][13],geburtsdatumJahr:t[r][14],land:t[r][15],exakteBezeichnung:t[r][16],titel:t[r][17],jahreTaufe:t[r][18]};this.parsedAddressData.push(a)}return console.log("Data valid"),console.log(this.parsedAddressData),this.parsedAddressData}return console.log("Data invalid"),!1}}]),e}(),Ie=Object(r["n"])({name:"get-clipboard",data:function(){return{inputData:"",placeholderText:'Hier die kopierten Excel Daten einfügen (Rechtsklick > "Einfügen" auswählen)',hidePasteField:!1}},emits:["data-valid"],methods:{dataChanged:function(e){var t=new _e;t.parseData(e)?this.onDataValid(t.parsedAddressData):(console.log(this.inputData),this.inputData="",console.log(this.inputData))},resetData:function(){this.inputData="",this.$emit("data-valid",!1),this.hidePasteField=!1},onDataValid:function(e){this.$emit("data-valid",e),this.hidePasteField=!0}},components:{}});const Je=o()(Ie,[["render",He]]);var Ze=Je,We=Object(r["e"])(p);We.use(ke),We.use(h["a"]),We.use(Te["a"]),We.component("Dialog",ye["a"]),We.component("Button",xe["a"]),We.component("Navigation",Re),We.component("GetClipboard",Ze),We.component("Menubar",Fe["a"]),We.component("Textarea",Se["a"]),We.component("Editor",Ge["a"]),We.component("DataTable",Ce["a"]),We.component("Column",we["a"]),We.component("Steps",Ae["a"]),We.component("Badge",Me["a"]),We.component("Accordion",Ne["a"]),We.component("AccordionTab",Pe["a"]),We.component("InputText",ze["a"]),We.mount("#app")}});
//# sourceMappingURL=app.16171440.js.map